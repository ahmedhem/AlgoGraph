(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=new(function(){function n(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(this,n),this.content=r,this.insert_content(r),this.pop_up=document.getElementById("Modal"),this.close_icon=document.querySelector(".hide-Modal"),this.close_icon.onclick=function(){return t.pop_up.style.display="none"},window.onclick=function(e){e.target===t.pop_up&&(t.pop_up.style.display="none")}}var r,o;return r=n,(o=[{key:"insert_content",value:function(e){document.querySelector("#inserted-content").innerHTML=e}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80;this.changeSize(e),this.pop_up.style.display="block"}},{key:"close",value:function(){this.changeSize(80),this.close_icon.click()}},{key:"changeSize",value:function(e){return e>=40&&e<=100&&(document.querySelector(".Modal-content").style.width=e+"%",!0)}}])&&t(r.prototype,o),n}());Object.freeze(n);const r=n;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=null,this.canvas=null,this.delete=!1,this.isDirected=!1,this.isWighted=!1,this.popupEdge=null,this.observers=[],this.MENU_STATUS=0,this.ContextMenuNode=null,this.MovingMode=!1,this.nodeSize=15,this.nodePicked=null}var t,n;return t=e,(n=[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){if(t!==e)return t}))}},{key:"fire",value:function(){var e=this;this.observers.forEach((function(t){t(e.canvas,e.ctx,e.nodeSize)}))}}])&&o(t.prototype,n),e}());function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function e(t,n){s(this,e),this.x=t,this.y=n},v=function(){function e(t,n){s(this,e),this.start=t,this.end=n,this.weights=new Set}return l(e,[{key:"addWeight",value:function(e){return this.weights.add(e)}},{key:"removeWeight",value:function(e){if(this.weights.delete(e),0===this.weights.size)return-1}},{key:"equals",value:function(e){return this.start===e.start&&this.end===e.end}},{key:"toString",value:function(){var e,t=(e=this.weights,function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(", ");return"from ".concat(this.start," to  ").concat(this.end," with weight {").concat(t,"}")}}]),e}(),h=function(){function e(t,n){s(this,e),this.position=t,this.number=n,this.color="#000",this.edges=new Set}return l(e,[{key:"addEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getEdge(e);if(!n){var r=new v(this.number,e);return r.addWeight(t),this.edges.add(r),!0}return n.addWeight(t),!0}},{key:"removeEdge",value:function(e,t){var n=this.getEdge(e);return!!n&&(t?-1===n.removeWeight(t)&&this.edges.delete(n):this.edges.delete(n),!0)}},{key:"getEdge",value:function(e){var t,n=null,r=a(this.edges.keys());try{for(r.s();!(t=r.n()).done;){var o=t.value;o.end===e&&(n=o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"removeConnection",value:function(e){this.removeEdge(e),e.removeEdge(this)}},{key:"equals",value:function(e){return this.number===e.number}},{key:"toString",value:function(){return this.number}}]),e}(),y=function(){function e(){s(this,e),this.nodes=new Set,this.nodeCount=1,this.availableNum=[]}return l(e,[{key:"addNode",value:function(e){var t=null;0!==this.availableNum.length?(t=this.availableNum[0],this.availableNum.splice(0,1)):t=this.nodeCount;var n=new h(e,t);this.nodes.add(n),this.nodeCount++,i.fire()}},{key:"getNode",value:function(e){var t,n=null,r=a(this.nodes.keys());try{for(r.s();!(t=r.n()).done;){var o=t.value;o.number===e&&(n=o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"removeNode",value:function(e){var t,n=this.getNode(e),r=n.number,o=a(this.nodes.keys());try{for(o.s();!(t=o.n()).done;){var u,c=a(t.value.edges.keys());try{for(c.s();!(u=c.n()).done;){var d=u.value;d.end===r&&this.removeEdge(d.start,d.end)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}this.availableNum.push(r),this.nodes.delete(n),this.nodeCount--,i.fire()}},{key:"addEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.getNode(e),o=this.getNode(t);return!(!r||!o||(r.addEdge(o.number,n),i.fire(),0))}},{key:"removeEdge",value:function(e,t,n){var r=this.getNode(e),o=this.getNode(t),a=r.removeEdge(o.number,n);return a&&i.fire(),a}},{key:"getEdge",value:function(e,t){var n=this.getNode(e),r=this.getNode(t);return n.getEdge(r.number)}},{key:"deep_copy",value:function(){return new e}}]),e}(),m={nodes:[],add:function(e){1===this.nodes.length?(this.nodes.push(e),i.popupEdge=L.getEdge(this.nodes[0].number,this.nodes[1].number),i.popupEdge||(i.popupEdge=new v(this.nodes[0].number,this.nodes[1].number)),i.isWighted?(r.insert_content('\n        <div class="weight-container">\n            <span id="weight-input-text">Want to Add a weight?</span>\n            <input id="weight-input" class="" type="number" min="0" value="1">\n            <button type="submit" class="btn cancel">Confirm</button>\n        </div>\n    '),document.querySelector("#weight-input").addEventListener("keyup",(function(e){13===e.keyCode&&(A(e.target.value),e.target.value=1)})),document.querySelector(".cancel").addEventListener("click",(function(){A(document.querySelector("#weight-input").value),document.querySelector("#weight-input").value=1})),r.open(),r.changeSize(50)):(L.addEdge(this.nodes[0].number,this.nodes[1].number),i.isDirected||L.addEdge(this.nodes[1].number,this.nodes[0].number)),this.nodes=[]):this.nodes.push(e)}};function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.position.x,u=t.position.y;e.beginPath(),e.lineWidth=1.5,e.strokeStyle=r||"#000",e.textAlign="center",e.textBaseline="middle",e.font="".concat(o,"px serif"),e.arc(a,u,o,0,2*Math.PI),e.fillText(n,a,u),e.stroke(),i&&(e.fillStyle="rgba(0,255,0,.2)",e.fill(),e.fillStyle="black"),e.closePath()}function g(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function b(e,t,n,r,o){var i=g(e,t,n,r),a=o/i,u=(i-o)/i;return[(1-a)*e+a*n,(1-a)*t+a*r,(1-u)*e+u*n,(1-u)*t+u*r]}function S(e,t){return t.getEdge(e.number)}function w(e,t,n,r){e.strokeStyle="#000";var o=b(t.position.x,t.position.y,n.position.x,n.position.y,i.nodeSize);!function(e,t,n,r,o,i,a,u,c){var d=r-t,l=o-n,s=Math.atan2(l,d),f=Math.sqrt(d*d+l*l),v=8;e.lineWidth=1,c<9&&(v=6),e.translate(t,n),e.rotate(s),e.beginPath(),e.moveTo(1,1),a?(u?e.quadraticCurveTo(f/4,f/4,f,0):e.lineTo(f,0),e.moveTo(f-i,-v),e.lineTo(f,0),e.lineTo(f-i,v)):e.lineTo(f,0),e.stroke(),e.setTransform(1,0,0,1,0,0)}(e,o[0],o[1],o[2],o[3],r,i.isDirected,S(t,n),r)}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n,r=E(L.nodes.keys());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(g(e,t,o.position.x,o.position.y)<=i.nodeSize)return o}}catch(e){r.e(e)}finally{r.f()}return!1}var N=function(e,t){t.clearRect(0,0,e.width,e.height),function(e){var t,n=E(L.nodes.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;p(e,r,r.number,r.color,i.nodeSize)}}catch(e){n.e(e)}finally{n.f()}}(t,i.nodeSize),function(e){var t,n=E(L.nodes.keys());try{for(n.s();!(t=n.n()).done;){var r,o=E(t.value.edges);try{for(o.s();!(r=o.n()).done;){var a=r.value;w(e,L.getNode(a.start),L.getNode(a.end),null,i.nodeSize)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}}(t,i.nodeSize),m.nodes[0]&&p(t,m.nodes[0],"","green",i.nodeSize,1)};function A(e){i.popupEdge.addWeight(Number(e)),L.addEdge(i.popupEdge.start,i.popupEdge.end,Number(e)),i.isDirected||L.addEdge(i.popupEdge.end,i.popupEdge.start,Number(e)),i.popupEdge=0,r.close()}var q=document.getElementById("main_canvas"),L=new y;if(q&&q.getContext){q.width=window.innerWidth,q.height=.87*window.innerHeight;var C=q.getContext("2d");C&&(N(q,C),i.canvas=q,i.ctx=C,i.subscribe(N))}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){r.insert_content('\n        <div class="edges-container"></div>\n    ');var t=document.querySelector(".edges-container");I(t,"div","div","Start Node","End Node",["header"],["header"]),I(t,"div","div",e.start,e.end,["edge-info"],["edge-info"]),I(t,"div",null,"Weights",null,["header"],null);var n,o=T(e.weights);try{for(o.s();!(n=o.n()).done;)I(t,"div","button",n.value,"Delete Weight",["edge-info"],["edge-info","removeEdgeBtn"],e)}catch(e){o.e(e)}finally{o.f()}var i=document.createElement("button");i.classList.add("confirm"),i.innerText="Close",i.addEventListener("click",(function(){r.close()})),t.appendChild(i),r.open()}function I(e,t,n,o,a,u,c,d){var l=document.createElement("div");l.classList.add("edge");var s,f=document.createElement(t),v=T(u);try{for(v.s();!(s=v.n()).done;){var h=s.value;f.classList.add(h)}}catch(e){v.e(e)}finally{v.f()}if(f.innerText=o,l.appendChild(f),null!=n){var y,m=document.createElement(n),p=T(c);try{for(p.s();!(y=p.n()).done;){var g=y.value;m.classList.add(g)}}catch(e){p.e(e)}finally{p.f()}m.innerText=a,"button"===n&&m.addEventListener("click",(function(){r.close(),L.removeEdge(d.start,d.end,o),i.isDirected||L.removeEdge(d.end,d.start,o)})),l.appendChild(m)}e.appendChild(l)}function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function j(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=e.getBoundingClientRect(),r=t.clientX-n.left,o=t.clientY-n.top;return new f(r,o)}var W="LINE",D="CURVE",P=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},H=function(e,t){var n,r,o=L.getNode(t.start),a=L.getNode(t.end),u=(n=b(o.position.x,o.position.y,a.position.x,a.position.y,i.nodeSize),r=4,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,r)||j(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],d=u[1],l=u[2],s=u[3];o=new f(c,d),a=new f(l,s);var v=function(e){return i.isDirected&&S(L.getNode(e.start),L.getNode(e.end))?D:W}(t);if(v===W){if(function(e,t,n){return P(e,t)+P(e,n)-P(t,n)<.1}(e,o,a))return M(t),!0}else if(v===D&&function(e,t,n){w(n,L.getNode(t.start),L.getNode(t.end),60);var r=n.isPointInStroke(e.x,e.y);return i.fire(),r}(e,t,i.ctx))return M(t),!0;return!1},R=document.querySelector(".addColor");function B(){i.nodePicked=!i.nodePicked,R.style.backgroundColor=i.nodePicked?"#ef2626":"#009879",i.nodePicked&&(m.nodes=[],i.fire())}R.addEventListener("click",(function(){B()})),document.querySelector(".delete").addEventListener("click",(function(e){return $(e,q)}));var $=function(e,t){t.classList.toggle("deleteCursor"),e.target.classList.toggle("clicked");var n=document.querySelector("canvas");i.delete=n.classList.contains("deleteCursor"),m.nodes=[],i.fire()};function G(e){L.removeNode(e.number),i.fire()}function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=0;function F(e,t,n,r){for(var o=q.width,a=i.nodeSize+15,u=n*(i.nodeSize+5)*2+15*(n-1),c=0,d=0===r[0]?g(a,u,e.position.x,e.position.y):1e7,l=1;l<=V;l++)if(a+=2*i.nodeSize+15,0===r[l]){if(a>o)break;g(a,u,e.position.x,e.position.y)<d&&(d=g(a,u,e.position.x,e.position.y),c=l)}r[c]=1,a=c?i.nodeSize+15+c*(2*i.nodeSize+15):i.nodeSize+15,t.position.x=a,t.position.y=u}function J(){1!==i.MENU_STATUS?(i.MENU_STATUS=1,document.querySelector("#context-menu").classList.add("context-menu-active")):(document.querySelector("#context-menu").classList.remove("context-menu-active"),i.MENU_STATUS=0)}var K=document.getElementById("main_canvas");document.querySelector("#move").addEventListener("click",(function(){J(),i.MovingMode=!0})),document.querySelector("#delete").addEventListener("click",(function(){J(),G(i.ContextMenuNode),m.nodes=[],i.fire()})),i.canvas.addEventListener("mousemove",(function(e){return function(e){i.MovingMode&&(i.ContextMenuNode.position=O(i.canvas,e),i.fire())}(e)})),i.canvas.addEventListener("click",(function(){i.MovingMode=!1})),K.addEventListener("contextmenu",(function(e){return function(e,t){t.preventDefault();var n=O(e,t),r=k(n.x,n.y);r&&(J(),function(e){var t=e.clientX+"px",n=e.clientY+"px",r=document.querySelector("#context-menu");r.style.left=t,r.style.top=n}(t),i.ContextMenuNode=r)}(q,e)})),K.addEventListener("click",(function(e){return function(e,t){if(1===i.MENU_STATUS)return J();var n,r,o=O(e,t);if(!function(e){var t,n=z(L.nodes.keys());try{for(n.s();!(t=n.n()).done;){var r,o=z(t.value.edges.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(H(e,i))return!0}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return!1}(o)){var a=k(o.x,o.y);a?i.nodePicked?(n=a,r=document.querySelector(".colorInput").value,n.color=r,i.fire(),B()):i.delete?G(a):function(e){for(var t=0;t<2;t++)if(m.nodes[t]&&e.equals(m.nodes[t]))return m.nodes=[],void i.fire();m.add(e),i.fire()}(a):i.delete||L.addNode(new f(o.x,o.y))}}(q,e)})),document.querySelector(".DrawAsTree").addEventListener("click",(function(){!function(){var e=[],t=new Array(L.nodeCount+1);t.fill(0);var n=L.getNode(1);e.push(n),t[1]=1;var r=1,o=1;for(function(e){for(var t=q.width,n=i.nodeSize+15,r=1;r<=1e6&&!((n+=2*i.nodeSize+15)>t);r++);e.position.x=i.nodeSize+15+r/2*(2*i.nodeSize+15),V=r-1}(n),n.position.y=r*(i.nodeSize+5)*2;0!=e.length;){for(var a=new Array(V+1).fill(0),u=1;u<=o;u++){var c,d=e.shift(),l=X(d.edges.keys());try{for(l.s();!(c=l.n()).done;){var s=c.value;if(0===t[s.end]){t[s.end]=1;var f=L.getNode(s.end);e.push(f),F(d,f,r+1,a)}}}catch(e){l.e(e)}finally{l.f()}}r++,o=e.length}i.fire()}()}));var Q=document.querySelector(".toolbox .toggle"),Z=document.querySelector(".toolbox");function ee(e,t){var n=document.createElement("a");n.href=t,n.download=e,n.click(),URL.revokeObjectURL(n.href)}Q.onclick=function(){var e;Q.classList.toggle("active_toolbox"),Z.classList.toggle("active_toolbox"),(e=document.querySelector("#sidebar-space")).style.display="block"===e.style.display?"none":"block",document.querySelector("body").classList.toggle("sidebar-open-space")},Q.click(),document.querySelector(".save-as-img").addEventListener("click",(function(){try{return ee("Graph-image.png",i.canvas.toDataURL("image/png")),!0}catch(e){return!1}})),document.querySelector(".save-as-txt").addEventListener("click",(function(){var e=function(e){var t="",n=0,r=0;return e.nodes.forEach((function(e){r=e.number,e.edges.forEach((function(e){t+=e+"\n",n++}))})),"Nodes count: "+r+"\n"+(n="Edges count: "+n+"\n")+t}(L);try{var t=new Blob([e],{type:"text/plain"});return ee("Graph.txt",URL.createObjectURL(t)),!0}catch(e){return!1}})),document.querySelector(".nodeSize").addEventListener("change",(function(e){e.stopPropagation(),i.nodeSize=parseInt(document.querySelector(".nodeSize").value),document.querySelector(".nodeSizeLabel").innerHTML=i.nodeSize,i.fire()})),document.querySelector("#isWeighted[type=checkbox]").addEventListener("change",(function(){i.isWighted=!i.isWighted})),document.querySelector("#edge-direction[type=checkbox]").addEventListener("change",(function(){i.isDirected=!i.isDirected,i.fire()})),document.querySelector(".clear").addEventListener("click",(function(){te(q)}));var te=function(e){e.width=e.offsetWidth,e.height=e.offsetHeight,L.nodes=new Set,L.nodeCount=1,L.availableNum=[],m.nodes=[]};function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.querySelector("#matrix-input").addEventListener("click",(function(){r.insert_content('\n   <div id="matrix-size">\n        <h3>Enter the Size(N) you want for your matrix</h3>\n        <input id="size" type="number" min="1" max="8" placeholder="N">\n        <button id="create-matrix" class="canvas_button" type="submit">Create Matrix</button>\n   </div>\n   <div id="matrix-table"></div>\n   <button id="draw_matrix" class="canvas_button" type="button">Draw Graph</button>\n'),document.querySelector("#draw_matrix").addEventListener("click",(function(){return re()})),document.querySelector("#create-matrix").addEventListener("click",oe),r.open(50)}));var re=function(){te(i.canvas);for(var e=100,t=100,n=0,o=document.querySelectorAll("#matrix-table tbody tr").length,a=1;a<=o;a++)n<=4?(e+=100,L.addNode(new f(e,t)),n++):(e=100,t+=100,L.addNode(new f(e,t)),n=0);var u,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(document.querySelectorAll("#matrix-table table tbody td input"));try{for(c.s();!(u=c.n()).done;){var d=u.value,l=Number(d.value);if(0!==l){var s=d.id.split("_"),v=s[1],h=s[2];L.addEdge(Number(v),Number(h),l)}}}catch(e){c.e(e)}finally{c.f()}r.close()},oe=function(){var e=document.querySelector("#size").value;!function(e){return e>=1&&e<=8}(e)?document.querySelector("#matrix-table").innerHTML='<h3 style="color: red">Enter a valid Size</h3>':function(e){var t=document.querySelector("#matrix-table");t.innerHTML="";var n=document.createElement("table");n.setAttribute("border","1");var r=document.createElement("thead"),o=document.createElement("tr"),i=document.createElement("td");i.innerText="-",o.appendChild(i);for(var a=0;a<e;a++){var u=document.createElement("td");u.innerText="".concat(a+1),o.appendChild(u)}r.appendChild(o),n.appendChild(r);for(var c=document.createElement("tbody"),d=0;d<e;d++){var l=document.createElement("tr"),s=document.createElement("td");s.innerText="".concat(d+1),l.appendChild(s);for(var f=0;f<e;f++){var v=document.createElement("td"),h=document.createElement("input");h.type="number",h.id="cell_".concat(d+1,"_").concat(f+1),h.value="0",v.appendChild(h),l.appendChild(v)}c.appendChild(l)}n.appendChild(c),t.appendChild(n),document.querySelector("#draw_matrix").style.display="block"}(e)};function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e){document.querySelector("#textarea-errors").innerHTML='<h3 style="color: red">'.concat(e,"</h3>")}function ce(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)&&e<=n&&t<=n&&e>0&&t>0}document.querySelector("#textarea-input").addEventListener("click",(function(){r.insert_content('\n<div id="textarea-content">\n        <div id="textarea-errors"></div>\n        <textarea id="graph_text" name="graph_text"\n                      placeholder="Enter the number of the nodes and edges on the first line\n[ex. N E]\nfollowed by E lines:\n    - In each line enter the starting node, ending node and optionally the weight (default value is 1)   \n        [ex. 1 2 4] or [1 2] >> will have weight of 1\n"></textarea>\n\n        <button id="draw_graph_from_text" class="canvas_button" type="button">Draw Graph</button>\n</div>\n        \n    '),document.querySelector("#draw_graph_from_text").addEventListener("click",(function(){de()})),document.querySelector("#textarea-errors").innerHTML="",r.open()}));var de=function(){te(i.canvas);var e=document.querySelector("#graph_text").value.split(/\n/),t=ie(e[0].split(" "),2),n=t[0],o=t[1];try{n=parseInt(n),o=parseInt(o)}catch(e){return ue("Enter valid number for the nodes and edges count")}if(e.length!==o+1)return ue("the number of edge defined should be equaled to the edges count ");!function(e){for(var t=100,n=100,r=0,o=1;o<=e;o++)r<=4?(t+=100,L.addNode(new f(t,n)),r++):(t=100,n+=100,L.addNode(new f(t,n)),r=0)}(n);var a=function(e,t){for(var n=1;n<e.length;n++){if(e[n].length<2)return"each line should have at least two number separated by a space";var r=ie(e[n].split(" "),3),o=r[0],a=r[1],u=r[2];if(!ce(o=Number(o),a=Number(a),t))return"Invalid Node Number on line ".concat(n+1);u?(L.addEdge(o,a,Number(u)),i.isDirected||L.addEdge(a,o,Number(u))):(L.addEdge(o,a),i.isDirected||L.addEdge(a,o))}}(e,n);if(a)return ue(a);r.close()}})();
//# sourceMappingURL=bundle.js.map